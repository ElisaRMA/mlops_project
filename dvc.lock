schema: '2.0'
stages:
  data:
    cmd: make data
    deps:
    - path: src/data/make_dataset.py
      md5: 16a344863da4bc5797f0b9e217cb69ff
      size: 1341
    outs:
    - path: data/raw
      md5: 87bb5025b342dce499fe38b06aba7132.dir
      size: 89823
      nfiles: 2
  prepare:
    cmd: make prepare
    deps:
    - path: data/raw/train.csv
      md5: 61fdd54abdbf6a85b778e937122e1194
      size: 61194
    - path: src/prepare/prepare_data.py
      md5: 6bdafc67e7e2dec3a6d0536b5fd2555e
      size: 3457
    params:
      params.yaml:
        dataset.target: Survived
        prepare.drop.cols:
        - Name
        - Ticket
        prepare.missing.cat_cols:
        - Cabin
        - Embarked
        prepare.missing.num_cols:
        - Age
        prepare.random_state: 3141592
        prepare.split: 0.2
    outs:
    - path: data/prepared
      md5: 746a8034073b4e5f9851d0f9c8512dc3.dir
      size: 31634
      nfiles: 2
    - path: models/pre_processing.joblib
      md5: c2ddfc2c926d9ff11de03fad06d5e792
      size: 2462
  featurize:
    cmd: make features
    deps:
    - path: data/prepared/test.csv
      md5: 8d5866b69f1c8c676780928288f1c63d
      size: 6360
    - path: data/prepared/train.csv
      md5: 9942ccf497e0329aef57f232c82036e2
      size: 25274
    - path: src/features/build_features.py
      md5: a83af04b45f41b90e4d7266a1181fc9c
      size: 2707
    params:
      params.yaml:
        dataset.target: Survived
        featurize.ohe_cols:
        - Cabin
        - Sex
        - Embarked
    outs:
    - path: data/processed
      md5: 412b934e35d1a2074112b486c836d4c2.dir
      size: 961581
      nfiles: 2
    - path: models/featurize.joblib
      md5: d08033e4350514b82fbd8d7b6d0559eb
      size: 3702
  train:
    cmd: make train
    deps:
    - path: data/processed/train.joblib
      md5: 2026a7619d05f54a07816f1af63e5c15
      size: 766480
    - path: src/models/train_model.py
      md5: 071428f68be644e86b32b17065503178
      size: 1675
    params:
      params.yaml:
        dataset.target: Survived
        train.classifier: RandomForestClassifier
        train.classifier_args:
          random_state: 2077
          n_estimators: 2
          min_samples_split: 150
          n_jobs: -1
    outs:
    - path: models/model.joblib
      md5: d1097093a15d858443a5e0ab9e2ed3db
      size: 9219
  evaluate:
    cmd: make evaluation
    deps:
    - path: data/processed/test.joblib
      md5: 6115f0ced682284bc8eee056ee34e330
      size: 195101
    - path: models/model.joblib
      md5: d1097093a15d858443a5e0ab9e2ed3db
      size: 9219
    - path: src/models/evaluate_model.py
      md5: 739652113ec6f18262e01852f2275f2e
      size: 2940
    params:
      params.yaml:
        dataset.target: Survived
    outs:
    - path: reports/cfm.json
      md5: 9cee708c70fcd5002a0e5295caf0cfee
      size: 13094
    - path: reports/prc.json
      md5: fbe98e32e3bfcc4efb397f5d5bbbadb4
      size: 1472
    - path: reports/roc.json
      md5: 78b09016a2bf6b15b7e5987761bdb1ff
      size: 1505
    - path: reports/scores.json
      md5: d2104db51dcff90b05c07be214bbf0dc
      size: 104
